# Минимальный CLI-прототип для визуализации зависимостей

## Общее описание

Данная программа - это простой инструмент командной строки (CLI) для анализа и визуализации зависимостей Rust-пакетов (crates). Он поддерживает два режима работы: **real** (реальный, с запросами к crates.io для получения актуальных зависимостей) и **test** (тестовый, с использованием локального файла для симуляции графа зависимостей). 

Инструмент строит граф зависимостей, вычисляет порядок загрузки пакетов, генерирует визуализацию в формате PNG с помощью Graphviz и опционально выводит дерево зависимостей в ASCII-формате.

Проект написан на Python 3.12+ и использует библиотеки: `requests` для API-запросов, `graphviz` для визуализации и `argparse` для CLI. 

## Описание функций и настроек

### CLI-настройки (аргументы командной строки)

DepViz использует `argparse` для обработки аргументов. Основные опции:

- `--package, -p` (обязательный): Имя анализируемого пакета (crate). Пример: `tokio`.
- `--repo, -r` (обязательный): 
  - В режиме `real`: URL репозитория 
  - В режиме `test`: Путь к локальному файлу с тестовым графом зависимостей (формат: каждая строка — `node: dep1 dep2`).
- `--mode, -m` (по умолчанию: `real`): Режим работы. Возможные значения:
  - `real`: Запросы к crates.io для реальных зависимостей.
  - `test`: Использование локального файла для тестов.
- `--version, -v` (по умолчанию: `latest`): Версия пакета. 
- `--ascii, -a` (флаг): Включить вывод дерева зависимостей в ASCII-формате (текстовое дерево с ветвями).
- `--depth, -d` (по умолчанию: 0): Максимальная глубина анализа (0 = без лимита).

Валидация аргументов происходит автоматически: проверяется наличие обязательных параметров, корректность URL/пути и неотрицательность глубины.


## Команды для сборки проекта и запуска тестов

### Требования
- Python 3.12+.
- Установите зависимости: `pip install requests graphviz`.
- Graphviz (бинарный): Установите системно 

### Сборка и установка
Проект — чистый Python-скрипт, сборка не требуется. Для разработки:
1. Клонируйте репозиторий.
2. Установите зависимости.
3. Запуск: `python main.py [аргументы]`.

